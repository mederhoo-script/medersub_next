(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{1142:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(6622).createBrowserClient)("https://arbagxcbwqmquydrowjw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyYmFneGNid3FtcXV5ZHJvd2p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjIwMjMsImV4cCI6MjA3MjEzODAyM30.k7-oHFYulHIWs56vBzhQnClvJAlLfhyhdL7rZuauAfk")},3035:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},3961:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},4106:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(5155),r=a(2115),l=a(8500),i=a.n(l),c=a(8340);let d=(0,c.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),n=(0,c.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),o=(0,c.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,c.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=a(1142);function u({balance:e}={}){let[t,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(e||0);return(0,r.useEffect)(()=>{void 0!==e&&c(e)},[e]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await x.N.auth.getUser();if(e){let{data:t}=await x.N.from("wallets").select("balance").eq("user_id",e.id).maybeSingle();t&&c(t.balance||0)}})()},[]),(0,s.jsxs)("div",{className:"bg-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 mb-8 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-blue-500 rounded-full opacity-50 blur-2xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-blue-400 rounded-full opacity-30 blur-xl"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Balance"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:t?`₦${l.toLocaleString()}`:"••••••••"}),(0,s.jsx)("button",{onClick:()=>a(!t),className:"p-1.5 hover:bg-blue-500/30 rounded-full transition-colors",children:t?(0,s.jsx)(d,{className:"h-4 w-4 text-blue-100"}):(0,s.jsx)(n,{className:"h-4 w-4 text-blue-100"})})]})]})}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsxs)(i(),{href:"/dashboard/fund",className:"flex-1 bg-white text-blue-600 py-2.5 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors shadow-sm",children:[(0,s.jsx)(o,{className:"h-4 w-4"})," Fund Wallet"]}),(0,s.jsxs)("button",{className:"flex-1 bg-blue-500/40 text-white py-2.5 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:bg-blue-500/50 transition-colors backdrop-blur-sm border border-blue-400/30",children:[(0,s.jsx)(h,{className:"h-4 w-4"})," Transfer"]})]})]})]})}var m=a(5237),b=a(3035),y=a(9892),g=a(3961);let p=(0,c.A)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);var f=a(5559);let j=(0,c.A)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),w=(0,c.A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),v=[{icon:m.A,label:"Airtime",color:"bg-orange-100 text-orange-600",href:"/dashboard/airtime"},{icon:b.A,label:"Data",color:"bg-green-100 text-green-600",href:"/dashboard/data"},{icon:y.A,label:"TV",color:"bg-purple-100 text-purple-600",href:"/dashboard/cable"},{icon:g.A,label:"Electricity",color:"bg-yellow-100 text-yellow-600",href:"/dashboard/electricity"},{icon:p,label:"Betting",color:"bg-red-100 text-red-600",href:"/dashboard/coming-soon?feature=Betting+Topup"},{icon:f.A,label:"Education",color:"bg-blue-100 text-blue-600",href:"/dashboard/education"},{icon:j,label:"Pins",color:"bg-pink-100 text-pink-600",href:"/dashboard/coming-soon?feature=Recharge+Pins"},{icon:w,label:"More",color:"bg-gray-100 text-gray-600",href:"/dashboard"}];function N(){return(0,s.jsx)("div",{className:"grid grid-cols-4 gap-y-6 gap-x-2 sm:gap-6 mt-8",children:v.map((e,t)=>(0,s.jsxs)(i(),{href:e.href,className:"flex flex-col items-center gap-2 group cursor-pointer",children:[(0,s.jsx)("div",{className:`h-12 w-12 sm:h-14 sm:w-14 rounded-full flex items-center justify-center transition-transform transform group-hover:scale-110 ${e.color}`,children:(0,s.jsx)(e.icon,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-700 text-center",children:e.label})]},t))})}let k=(0,c.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),A=(0,c.A)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function M(){let[e,t]=(0,r.useState)(null),[a,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{let{data:{user:e},error:a}=await x.N.auth.getUser();if(console.log("[Dashboard] User:",e?.email,"Error:",a),e){let{data:a,error:s}=await x.N.from("profiles").select("*, wallets(balance)").eq("id",e.id).single();if(console.log("[Dashboard] Profile:",a,"Error:",s),a){let e=a.wallets?.[0]?.balance||0;t({...a,balance:e})}}})()},[]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await x.N.auth.getUser();if(!e)return;d(!0);let{data:t,error:a}=await x.N.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);t&&!a&&l(t),d(!1)})()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-xl font-bold text-gray-900",children:["Hello, ",e?.full_name?.split(" ")[0]||"User"," \uD83D\uDC4B"]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"What would you like to do today?"})]}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-blue-600 tracking-tight",children:"MEDERSUB"}),(0,s.jsxs)("button",{className:"p-2 rounded-full bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 transition-colors relative",children:[(0,s.jsx)(k,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"absolute top-2 right-2 h-2 w-2 bg-red-500 rounded-full border border-white"})]})]}),(0,s.jsx)(u,{balance:e?.balance||0}),(0,s.jsx)(N,{}),(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Recent Transactions"}),(0,s.jsx)(i(),{href:"/dashboard/history",className:"text-sm text-blue-600 hover:underline",children:"See All"})]}),c?(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 text-center text-gray-400 text-sm",children:"Loading transactions..."}):0===a.length?(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 text-center text-gray-400 text-sm",children:"No recent transactions"}):(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 divide-y divide-gray-100",children:a.map(e=>{let t,a;return(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-2 rounded-lg ${(e=>{switch(e){case"AIRTIME":return"bg-green-100 text-green-600";case"DATA":return"bg-blue-100 text-blue-600";case"CABLE":return"bg-purple-100 text-purple-600";case"ELECTRICITY":return"bg-yellow-100 text-yellow-600";case"EDUCATION":return"bg-indigo-100 text-indigo-600";default:return"bg-gray-100 text-gray-600"}})(e.meta?.service_type)}`,children:"deposit"===e.type?(0,s.jsx)(A,{className:"h-4 w-4"}):(e=>{switch(e){case"AIRTIME":default:return(0,s.jsx)(m.A,{className:"h-4 w-4"});case"DATA":return(0,s.jsx)(b.A,{className:"h-4 w-4"});case"CABLE":return(0,s.jsx)(y.A,{className:"h-4 w-4"});case"ELECTRICITY":return(0,s.jsx)(g.A,{className:"h-4 w-4"});case"EDUCATION":return(0,s.jsx)(f.A,{className:"h-4 w-4"})}})(e.meta?.service_type)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"deposit"===e.type?"Wallet Funding":(t=e.meta?.service_type||"Service",a=e.meta?.network,"AIRTIME"===t||"DATA"===t?`${t} ${a?`- ${a}`:""}`:t)}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:`text-sm font-semibold ${"deposit"===e.type?"text-green-600":"text-red-600"}`,children:["deposit"===e.type?"+":"-","₦",(e.charged_amount||e.amount).toLocaleString()]}),(0,s.jsx)("p",{className:`text-xs ${"success"===e.status?"text-green-600":"failed"===e.status?"text-red-600":"text-yellow-600"}`,children:e.status})]})]},e.id)})})]})]})}},5237:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},5559:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},9668:(e,t,a)=>{Promise.resolve().then(a.bind(a,4106))},9892:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]])}},e=>{e.O(0,[8500,4293,8441,8928,7358],()=>e(e.s=9668)),_N_E=e.O()}]);