(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6255],{2484:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3035:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},3961:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},5237:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},6296:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6416:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),r=a(2115),i=a(3035),l=a(5237),n=a(9892),c=a(3961),d=a(6296),o=a(2484);let h=(0,a(8340).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=a(9823),u=a(9722);function p(){let[e,t]=(0,r.useState)([]),[a,p]=(0,r.useState)(!0),[x,y]=(0,r.useState)(null),[g,f]=(0,r.useState)("");(0,r.useEffect)(()=>{v()},[]);let v=async()=>{let e=await fetch("/api/admin/services"),a=await e.json();Array.isArray(a)&&t(a),p(!1)},b=async(a,s)=>{t(e.map(e=>e.id===a?{...e,is_active:!s}:e));try{await fetch("/api/admin/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,is_active:!s})})}catch(e){console.error("Failed to toggle",e),v()}},A=async e=>{try{(await fetch("/api/admin/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,markup:Number(g)})})).ok&&(y(null),v())}catch(e){console.error("Failed to save markup",e)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Management"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Configure availability and pricing markups."})]}),a?(0,s.jsx)("div",{className:"flex justify-center p-12",children:(0,s.jsx)(d.A,{className:"animate-spin text-blue-600"})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("div",{className:(0,u.A)("p-3 rounded-lg","DATA"===e.type?"bg-blue-100 text-blue-600":"AIRTIME"===e.type?"bg-orange-100 text-orange-600":"bg-gray-100"),children:(e=>{switch(e){case"DATA":return(0,s.jsx)(i.A,{className:"h-6 w-6"});case"AIRTIME":default:return(0,s.jsx)(l.A,{className:"h-6 w-6"});case"CABLE":return(0,s.jsx)(n.A,{className:"h-6 w-6"});case"ELECTRICITY":return(0,s.jsx)(c.A,{className:"h-6 w-6"})}})(e.type)}),(0,s.jsx)("button",{onClick:()=>b(e.id,e.is_active),className:(0,u.A)("relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",e.is_active?"bg-green-500":"bg-gray-200"),children:(0,s.jsx)("span",{className:(0,u.A)("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",e.is_active?"translate-x-5":"translate-x-0")})})]}),(0,s.jsx)("h3",{className:"mt-4 font-semibold text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 mb-4",children:[(0,s.jsxs)("span",{className:(0,u.A)("text-xs px-2 py-1 rounded-full font-medium flex items-center",e.is_active?"text-green-600 bg-green-50":"text-red-600 bg-red-50"),children:[e.is_active?(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"}):(0,s.jsx)(h,{className:"h-3 w-3 mr-1"}),e.is_active?"Active":"Disabled"]}),(0,s.jsx)("span",{className:"text-xs text-gray-400 font-mono uppercase",children:e.id})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Markup:"}),x===e.id?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"₦"}),(0,s.jsx)("input",{type:"number",className:"w-16 border rounded px-1 py-0.5 text-sm",value:g,onChange:e=>f(e.target.value),autoFocus:!0}),(0,s.jsx)("button",{onClick:()=>A(e.id),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:"Save"})]}):(0,s.jsxs)("button",{onClick:()=>{y(e.id),f(e.markup)},className:"flex items-center text-sm font-semibold text-gray-900 hover:text-blue-600",children:["₦",e.markup||0,(0,s.jsx)(m.A,{className:"h-3 w-3 ml-1 text-gray-400"})]})]})})]},e.id))})]})}},8022:(e,t,a)=>{Promise.resolve().then(a.bind(a,6416))},8340:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:c,iconNode:d,...o},h)=>(0,s.createElement)("svg",{ref:h,...l,width:t,height:t,stroke:e,strokeWidth:r?24*Number(a)/Number(t):a,className:i("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]])),c=(e,t)=>{let a=(0,s.forwardRef)(({className:a,...l},c)=>(0,s.createElement)(n,{ref:c,iconNode:t,className:i(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...l}));return a.displayName=r(e),a}},9722:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=function(){for(var e,t,a=0,s="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,s,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(s=e(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}(e))&&(s&&(s+=" "),s+=t);return s}},9823:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},9892:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8340).A)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]])}},e=>{e.O(0,[8441,8928,7358],()=>e(e.s=8022)),_N_E=e.O()}]);