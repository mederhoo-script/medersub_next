(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{4701:(e,a,t)=>{Promise.resolve().then(t.bind(t,5157))},5157:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t(5155),r=t(2115),l=t(6296);let n=(0,t(8340).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function i(){let[e,a]=(0,r.useState)({markup:0,maintenance:!1}),[t,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/admin/settings"),t=await e.json();t.general&&a(t.general),i(!1)})()},[]);let o=async a=>{a.preventDefault(),d(!0);try{await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"general",value:e})}),alert("Settings Saved!")}catch(e){alert("Failed to save settings")}finally{d(!1)}};return t?(0,s.jsx)("div",{className:"flex justify-center p-10",children:(0,s.jsx)(l.A,{className:"animate-spin"})}):(0,s.jsxs)("div",{className:"max-w-2xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"System Settings"}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,s.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing Configuration"}),(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Global Profit Markup (₦)",(0,s.jsx)("span",{className:"text-gray-400 font-normal ml-2",children:"Added to every airtime/data purchase cost"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"₦"}),(0,s.jsx)("input",{type:"number",value:e.markup||0,onChange:t=>a({...e,markup:Number(t.target.value)}),className:"pl-8 pr-4 py-2 border border-gray-200 rounded-lg w-full focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"pt-6 border-t border-gray-100",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Maintenance"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"maintenance",type:"checkbox",checked:e.maintenance||!1,onChange:t=>a({...e,maintenance:t.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"maintenance",className:"ml-2 block text-sm text-gray-700",children:"Enable Maintenance Mode (Disable all user purchases)"})]})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsxs)("button",{type:"submit",disabled:c,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-70",children:[c?(0,s.jsx)(l.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,s.jsx)(n,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})})]})}},6296:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(8340).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8340:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var s=t(2115);let r=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},l=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:c,iconNode:d,...o},m)=>(0,s.createElement)("svg",{ref:m,...n,width:a,height:a,stroke:e,strokeWidth:r?24*Number(t)/Number(a):t,className:l("lucide",i),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,a])=>(0,s.createElement)(e,a)),...Array.isArray(c)?c:[c]])),c=(e,a)=>{let t=(0,s.forwardRef)(({className:t,...n},c)=>(0,s.createElement)(i,{ref:c,iconNode:a,className:l(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...n}));return t.displayName=r(e),t}}},e=>{e.O(0,[8441,8928,7358],()=>e(e.s=4701)),_N_E=e.O()}]);